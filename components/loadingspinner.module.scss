/* LoadingSpinner.module.scss */
@use 'sass:math';
.cube-spinner {
    width: 64px;
    height: 64px;
    perspective: 800px;
  }
  
  .cube {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    animation: rotateCube 2s infinite linear;
  }
  
  .cube::before,
  .cube::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: var(--primary);
    opacity: 0.6;
  }
  
  .cube::before {
    transform: rotateY(90deg);
  }
  
  .cube::after {
    transform: rotateX(90deg);
  }
  
  @keyframes rotateCube {
    0% {
      transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }
    100% {
      transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }
  }
  
  /* Glitch effect styles */
  .glitch-base {
    position: relative;
    text-shadow: 0.05em 0 0 var(--glitch-color1),
      -0.05em -0.025em 0 var(--glitch-color2),
      -0.025em 0.05em 0 var(--glitch-color3);
    animation: glitch 750ms infinite;
  }
  
  .glitch-layer-1,
  .glitch-layer-2 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.8;
  }
  
  .glitch-layer-1 {
    animation: glitchAnim1 4s infinite linear alternate-reverse;
    clip-path: polygon(
      0 var(--glitch-gap),
      100% var(--glitch-gap),
      100% calc(1% + var(--glitch-gap)),
      0 calc(1% + var(--glitch-gap))
    );
  }
  
  .glitch-layer-2 {
    animation: glitchAnim2 2s infinite linear alternate;
    clip-path: polygon(
      0 calc(99% - var(--glitch-gap)),
      100% calc(99% - var(--glitch-gap)),
      100% calc(100% - var(--glitch-gap)),
      0 calc(100% - var(--glitch-gap))
    );
  }
  
  @keyframes glitch {
    0% {
      text-shadow: 0.05em 0 0 var(--glitch-color1),
        -0.05em -0.025em 0 var(--glitch-color2),
        -0.025em 0.05em 0 var(--glitch-color3);
      filter: blur(0);
    }
    14% {
      text-shadow: 0.05em 0 0 var(--glitch-color2),
        -0.05em -0.025em 0 var(--glitch-color3),
        -0.025em 0.05em 0 var(--glitch-color1);
      filter: blur(var(--glitch-blur));
    }
    28% {
      text-shadow: 0.05em 0 0 var(--glitch-color3),
        -0.05em -0.025em 0 var(--glitch-color1),
        -0.025em 0.05em 0 var(--glitch-color2);
      filter: blur(0);
    }
    42% {
      text-shadow: -0.05em 0 0 var(--glitch-color1),
        0.025em 0.025em 0 var(--glitch-color2),
        -0.05em -0.05em 0 var(--glitch-color3);
      filter: blur(var(--glitch-blur));
    }
    100% {
      text-shadow: 0.05em 0 0 var(--glitch-color1),
        -0.05em -0.025em 0 var(--glitch-color2),
        -0.025em 0.05em 0 var(--glitch-color3);
      filter: blur(0);
    }
  }
  
  @keyframes glitchAnim1 {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(-2px, 2px);
    }
    40% {
      transform: translate(-2px, -2px);
    }
    60% {
      transform: translate(2px, 2px);
    }
    80% {
      transform: translate(2px, -2px);
    }
    100% {
      transform: translate(0);
    }
  }
  
  @keyframes glitchAnim2 {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(2px, 2px);
    }
    40% {
      transform: translate(2px, -2px);
    }
    60% {
      transform: translate(-2px, 2px);
    }
    80% {
      transform: translate(-2px, -2px);
    }
    100% {
      transform: translate(0);
    }
  }

  @function random-percentage() {
    @return math.random(100) + 0%;
  }
  
  @function random-translate() {
    @return math.random(10) - 5 + px;
  }
  
  @keyframes glitch-anim {
    $steps: 20;
    @for $i from 0 through $steps {
      #{math.percentage(math.div($i, 2 * $steps))} {
        clip-path: inset(random-percentage() 0 random-percentage() 0);
        transform: translate(random-translate(), random-translate());
      }
    }
  }
